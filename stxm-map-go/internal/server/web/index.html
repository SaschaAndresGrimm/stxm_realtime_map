<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>STXM Real-time Map</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>STXM Real-time Map</h1>
      <div class="header-status">
        <div id="status">Connectingâ€¦</div>
      </div>
    </header>
    <aside id="control-panel" class="panel">
      <div id="panel-handle" class="panel-handle" title="Drag to resize"></div>
      <div class="panel-header">
        <h2>Controls</h2>
      </div>
      <div class="panel-section">
        <label class="toggle">
          <span>Color scheme</span>
          <select id="color-scheme">
            <option value="blue-yellow-red" selected>Blue-Yellow-Red</option>
            <option value="gray">Grayscale</option>
            <option value="heat">Heat</option>
            <option value="viridis">Viridis</option>
            <option value="albula-hdr">Albula HDR</option>
          </select>
        </label>
        <label class="toggle">
          <input type="checkbox" id="autoscale" checked />
          <span>Auto scale</span>
        </label>
        <div class="histogram">
          <div class="histogram-title">Histogram</div>
          <div class="histogram-axis">
            <span class="histogram-y-label">Count</span>
            <div class="histogram-canvas-wrap">
              <canvas id="histogram-canvas" width="240" height="80"></canvas>
              <span class="histogram-x-label">Value</span>
            </div>
          </div>
          <label class="toggle histogram-toggle">
            <input type="checkbox" id="histogram-log" />
            <span>Log scale</span>
          </label>
        </div>
        <div class="contrast-controls">
          <div class="contrast-row">
            <span>Min</span>
            <input id="contrast-min" type="range" min="0" max="255" step="1" value="0" />
            <span id="contrast-min-value">0</span>
          </div>
          <div class="contrast-row">
            <span>Max</span>
            <input id="contrast-max" type="range" min="0" max="255" step="1" value="255" />
            <span id="contrast-max-value">255</span>
          </div>
        </div>
        <label class="toggle">
          <input type="checkbox" id="sync-views" checked />
          <span>Sync views</span>
        </label>
      </div>
      <div class="panel-section">
        <div class="zoom-controls">
          <button id="zoom-out" class="export-btn">-</button>
          <span id="zoom-level">1.0x</span>
          <button id="zoom-in" class="export-btn">+</button>
        </div>
        <input id="zoom-slider" type="range" min="0.5" max="8" step="0.1" value="1" />
        <button id="zoom-reset" class="export-btn">Reset</button>
      </div>
    </aside>
    <main>
      <div id="plots"></div>
    </main>
    <footer class="footer-status">
      <div id="fps">0 fps</div>
      <div class="status-row">
        <span class="status-label">Detector</span>
        <span id="status-detector" class="status-pill">
          <span class="status-dot"></span>
          <span class="status-text">unknown</span>
        </span>
      </div>
      <div class="status-row">
        <span class="status-label">Stream</span>
        <span id="status-stream" class="status-pill">
          <span class="status-dot"></span>
          <span class="status-text">idle</span>
        </span>
      </div>
      <div class="status-row">
        <span class="status-label">Filewriter</span>
        <span id="status-filewriter" class="status-pill">
          <span class="status-dot"></span>
          <span class="status-text">idle</span>
        </span>
      </div>
      <div class="status-row">
        <span class="status-label">Monitor</span>
        <span id="status-monitor" class="status-pill">
          <span class="status-dot"></span>
          <span class="status-text">ok</span>
        </span>
      </div>
    </footer>
    <script src="app.js"></script>
  </body>
</html>
